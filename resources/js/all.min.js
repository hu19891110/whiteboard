/*!
 * jQuery Smooth Scroll Plugin v1.3
 *
 * Date: Wed Dec 1 15:03:21 2010 -0500
 * Requires: jQuery v1.3+
 *
 * Copyright 2010, Karl Swedberg
 * Dual licensed under the MIT and GPL licenses (just like jQuery):
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 *
 *
 *
*/
(function(a){function c(a){return a.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")}function b(b){var c=[],d=!1;this.each(function(){if(this!=document&&this!=window){var b=a(this);b.scrollTop()>0?c.push(this):(b.scrollTop(1),d=b.scrollTop()>0,b.scrollTop(0),d&&c.push(this))}}),b==="first"&&c.length&&(c=[c.shift()]);return c}var d=c(location.pathname);a.fn.extend({scrollable:function(){return this.pushStack(b.call(this))},firstScrollable:function(){return this.pushStack(b.call(this,"first"))},smoothScroll:function(b){b=b||{};var e=a.extend({},a.fn.smoothScroll.defaults,b);this.die("click.smoothscroll").live("click.smoothscroll",function(f){var g=a(this),h=location.hostname===this.hostname||!this.hostname,i=e.scrollTarget||(c(this.pathname)||d)===d,j=this.hash,k=!0;if(!e.scrollTarget&&(!h||!i||!j))k=!1;else{h=e.exclude,i=0;for(var n=h.length;k&&i<n;)g.is(h[i++])&&(k=!1);h=e.excludeWithin,i=0;for(n=h.length;k&&i<n;)g.closest(h[i++]).length&&(k=!1)}k&&(e.scrollTarget=b.scrollTarget||j,e.link=this,f.preventDefault(),a.smoothScroll(e))});return this}}),a.smoothScroll=function(b,c){var d,e,f,g=0;e="offset";var h={};typeof b=="number"?(d=a.fn.smoothScroll.defaults,f=b):(d=a.extend({},a.fn.smoothScroll.defaults,b||{}),d.scrollElement&&(e="position",d.scrollElement.css("position")=="static"&&d.scrollElement.css("position","relative")),f=c||a(d.scrollTarget)[e]()&&a(d.scrollTarget)[e]()[d.direction]||0),d=a.extend({link:null},d),d.scrollElement?(e=d.scrollElement,g=e.scrollTop()):e=a("html, body").firstScrollable(),h["scroll"+{top:"Top",left:"Left"}[d.direction]]=f+g+d.offset,e.animate(h,{duration:d.speed,easing:d.easing,complete:function(){d.afterScroll&&a.isFunction(d.afterScroll)&&d.afterScroll.call(d.link,d)}})},a.smoothScroll.version="1.3.1",a.fn.smoothScroll.defaults={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,afterScroll:null,easing:"swing",speed:400}})(jQuery),$(function(a){navigator.userAgent.match(/iPhone/i)&&setTimeout(function(){window.scrollTo(0,1)},100);if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)){var b=document.querySelector('meta[name="viewport"]');b&&(b.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0",document.body.addEventListener("gesturestart",function(){b.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"},!1))}a("a").smoothScroll(),!(window.devicePixelRatio>=2)})
